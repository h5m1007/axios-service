!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.axiosService=t():e.axiosService=t()}("undefined"!=typeof self?self:this,function(){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var u=t[n]={i:n,l:!1,exports:{}};return e[n].call(u.exports,u,u.exports,r),u.l=!0,u.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},r.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=4)}([function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.codes={SUCCESS:200},t.defaults={},t.requestDefaults={autoLoading:!0,msgKey:"error_msg",dataKey:"data",codeKey:"dm_error",successNo:0}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},u=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=r(0);var a=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.$http=null,this.requestDefaults=t.requestDefaults,this.createdRequestStack=t.createdRequestStack}return u(e,[{key:"init",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.setHttps(e),this.setDefaults(t.defaults),this.setRequestDefaults(t.requestDefaults),this._executeRequestInstance()}},{key:"setHttps",value:function(e){this.$http=e||this.$http}},{key:"setDefaults",value:function(e){Object.assign(this.$http.defaults,n({},o.defaults,e))}},{key:"setRequestDefaults",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object.assign(this.requestDefaults,e)}},{key:"_executeRequestInstance",value:function(){var e=this;this.createdRequestStack.forEach(function(t){return t(e.$http)})}}]),e}();t.default=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.deepCopy=function(e){},t.formatRestFulUrl=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object.keys(t||{}).reduce(function(e,r){return e.replace("$"+r,t[r])},e||"")}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.GET="get",t.POST="post",t.DELETE="delete",t.OPTIONS="options",t.PUT="put",t.PATCH="patch",t.HEAD="head"},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getRequestsByRoot=t.service=void 0;var n,u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},o=r(3),a=r(2),s=r(0),i=r(1),c=(n=i)&&n.__esModule?n:{default:n};var f=t.service=new c.default({requestDefaults:s.requestDefaults,createdRequestStack:[]}),l=function(e){var t=e.root,r=void 0===t?"/":t,n=void 0,o=void 0,a=new Promise(function(e,t){o=e}),i=setTimeout(function(){n||console.error("请注入axios实例, 如: axiosService.init(axios, config)")},3e3),c=function(t){clearTimeout(i);var o=f.$http.create(u({baseURL:r},e));return o.baseURL=r,n=function(e){return function(t){var r=u({},f.requestDefaults,t),n=(r.autoLoading,r.msgKey),o=r.codeKey,a=r.dataKey,i=r.successNo;return function(t){var r=["url: "+e.baseURL+t.url,", params:",t.params,", data:",t.data];return e(t).then(function(e){var t=e.status,u=e.data;if(e.config,t===s.codes.SUCCESS){if(!a)return Promise.resolve(u);u[a];var c,f=u[n],l=u[o];return u.__response__=e,l===i?Promise.resolve(u):((c=console).error.apply(c,["[service请求错误], errMsg: "+f+", "].concat(r)),Promise.reject(u))}},function(e){var t;return(t=console).error.apply(t,["[service请求失败]: "].concat(r)),Promise.reject(e)})}}}(o)(t)};return function(e){return f.$http?c(e):(a.then(function(){c(e)}),f.createdRequestStack.push(o),function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return n?n.apply(void 0,t):a.then(function(){return n.apply(void 0,t)})})}},d=t.getRequestsByRoot=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=l(e);return{get:function(e,r){var n=t(r);return function(t,r){return n(u({url:e,method:o.GET,params:t},r))}},post:function(e,r){var n=t(r);return function(t,r){return n(u({url:e,method:o.POST,data:t},r))}},postXForm:function(e,r){var n=t(r);return function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return n(u({url:e,method:o.POST,data:t,transformRequest:[function(e,t){return Object.keys(e).reduce(function(t,r){return t.append(r,e[r]),t},new FormData)}],headers:u({"Content-Type":"application/x-www-form-urlencoded"},r.headers)},r))}},restFulGet:function(e,r){var n=t(r);return function(t,r,s){return n(u({url:(0,a.formatRestFulUrl)(e,t),method:o.GET,params:r},s))}},restFulPost:function(e,r){var n=t(r);return function(t,r,s){return n(u({url:(0,a.formatRestFulUrl)(e,t),method:o.POST,data:r},s))}},delete:function(e,r){var n=t(r);return function(t,r,s){return n(u({url:(0,a.formatRestFulUrl)(e,t),method:o.DELETE,data:r},s))}},put:function(e,r){var n=t(r);return function(t,r,s){return n(u({url:(0,a.formatRestFulUrl)(e,t),method:o.PUT,data:r},s))}},patch:function(e,r){var n=t(r);return function(t,r,s){return n(u({url:(0,a.formatRestFulUrl)(e,t),method:o.PATCH,data:r},s))}},head:function(e,r){var n=t(r);return function(t){return n(u({url:e,method:o.HEAD},t))}},options:function(e,r){var n=t(r);return function(t){return n(u({url:e,method:o.OPTIONS},t))}},request:function(e,r){var n=t(r);return function(t){return n(u({url:e},t))}}}};f.getRequestsByRoot=d,t.default=f}])});
//# sourceMappingURL=axios-service.min.js.map