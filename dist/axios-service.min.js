!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.axiosService=t():e.axiosService=t()}("undefined"!=typeof self?self:this,function(){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},r.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=4)}([function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.STATUS_200=200,t.defaults={},t.requestDefaults={autoLoading:!0,msgKey:"error_msg",dataKey:"data",codeKey:"dm_error",successCode:0}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.isString=function(e){return"string"==typeof e},t.isNumber=function(e){return"number"==typeof e},t.isUndefined=function(e){return void 0===e},t.isObject=function(e){return null!==e&&"object"===(void 0===e?"undefined":n(e))},t.forEach=u,t.merge=function e(){var t={};function r(r,o){"object"===n(t[o])&&"object"===(void 0===r?"undefined":n(r))?t[o]=e(t[o],r):t[o]=r}for(var o=0,i=arguments.length;o<i;o++)u(arguments[o],r);return t},t.deepMerge=function e(){var t={};function r(r,o){"object"===n(t[o])&&"object"===(void 0===r?"undefined":n(r))?t[o]=e(t[o],r):"object"===(void 0===r?"undefined":n(r))?t[o]=e({},r):t[o]=r}for(var o=0,i=arguments.length;o<i;o++)u(arguments[o],r);return t};t.deepCopy=function(e){},t.formatRestFulUrl=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object.keys(t||{}).reduce(function(e,r){return e.replace("$"+r,t[r])},e||"")},Object.prototype.toString;var o=t.isArray=function(e){return"[object Array]"===toString.call(e)};function u(e,t){if(null!==e&&void 0!==e)if("object"!==(void 0===e?"undefined":n(e))&&(e=[e]),o(e))for(var r=0,u=e.length;r<u;r++)t.call(null,e[r],r,e);else for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.call(null,e[i],i,e)}t.extend=function(e,t){for(var r in t)e[r]=t[r];return e}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),u=r(0),i=r(1);var a=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.$http=null,this.requestDefaults=t.requestDefaults,this.createdRequestStack=t.createdRequestStack}return o(e,[{key:"init",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.setHttps(e),this.setDefaults(t.defaults),this.setRequestDefaults(t.requestDefaults),this._executeRequestInstance()}},{key:"setHttps",value:function(e){this.$http=e||this.$http}},{key:"setDefaults",value:function(e){(0,i.deepMerge)(this.$http.defaults,n({},u.defaults,e))}},{key:"setRequestDefaults",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,i.extend)(this.requestDefaults,e)}},{key:"_executeRequestInstance",value:function(){var e=this;this.createdRequestStack.forEach(function(t){return t(e.$http)})}}]),e}();t.default=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.GET="get",t.POST="post",t.DELETE="delete",t.OPTIONS="options",t.PUT="put",t.PATCH="patch",t.HEAD="head"},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getRequestsByRoot=t.service=void 0;var n,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},u=r(3),i=r(1),a=r(0),c=r(2),s=(n=c)&&n.__esModule?n:{default:n};var f=t.service=new s.default({requestDefaults:a.requestDefaults,createdRequestStack:[]}),l=function(e){var t=e.root,r=void 0===t?"/":t,n=void 0,u=void 0,i=new Promise(function(e,t){u=e}),c=setTimeout(function(){n||console.error("请注入axios实例, 如: axiosService.init(axios, config)")},3e3),s=function(t){clearTimeout(c);var u=f.$http.create(o({baseURL:r},e));return u.baseURL=r,n=function(e){return function(t){var r=o({},f.requestDefaults,t),n=(r.autoLoading,r.msgKey),u=r.codeKey,i=r.dataKey,c=r.successCode;return function(t){var r=["url: "+e.baseURL+t.url,", params:",t.params,", data:",t.data];return e(t).then(function(e){var t=e.status,o=e.data;if(e.config,t===a.STATUS_200){if(!i)return Promise.resolve(o);o[i];var s,f=o[n],l=o[u];return o.__response__=e,l===c?Promise.resolve(o):((s=console).error.apply(s,["[service请求错误], errMsg: "+f+", "].concat(r)),Promise.reject(o))}},function(e){var t;return(t=console).error.apply(t,["[service请求失败]: "].concat(r)),Promise.reject(e)})}}}(u)(t)};return function(e){return f.$http?s(e):(i.then(function(){s(e)}),f.createdRequestStack.push(u),function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return n?n.apply(void 0,t):i.then(function(){return n.apply(void 0,t)})})}},d=t.getRequestsByRoot=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=l(e);return{get:function(e,r){var n=t(r);return function(t,r){return n(o({url:e,method:u.GET,params:t},r))}},post:function(e,r){var n=t(r);return function(t,r){return n(o({url:e,method:u.POST,data:t},r))}},postXForm:function(e,r){var n=t(r);return function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return n(o({url:e,method:u.POST,data:t,transformRequest:[function(e,t){return Object.keys(e).reduce(function(t,r){return t.append(r,e[r]),t},new FormData)}],headers:o({"Content-Type":"application/x-www-form-urlencoded"},r.headers)},r))}},restFulGet:function(e,r){var n=t(r);return function(t,r,a){return n(o({url:(0,i.formatRestFulUrl)(e,t),method:u.GET,params:r},a))}},restFulPost:function(e,r){var n=t(r);return function(t,r,a){return n(o({url:(0,i.formatRestFulUrl)(e,t),method:u.POST,data:r},a))}},delete:function(e,r){var n=t(r);return function(t,r,a){return n(o({url:(0,i.formatRestFulUrl)(e,t),method:u.DELETE,data:r},a))}},put:function(e,r){var n=t(r);return function(t,r,a){return n(o({url:(0,i.formatRestFulUrl)(e,t),method:u.PUT,data:r},a))}},patch:function(e,r){var n=t(r);return function(t,r,a){return n(o({url:(0,i.formatRestFulUrl)(e,t),method:u.PATCH,data:r},a))}},head:function(e,r){var n=t(r);return function(t){return n(o({url:e,method:u.HEAD},t))}},options:function(e,r){var n=t(r);return function(t){return n(o({url:e,method:u.OPTIONS},t))}},request:function(e,r){var n=t(r);return function(t){return n(o({url:e},t))}},jsonp:function(e,t){}}};f.getRequestsByRoot=d,t.default=f}])});
//# sourceMappingURL=axios-service.min.js.map