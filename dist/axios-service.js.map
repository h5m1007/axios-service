{"version":3,"sources":["webpack://axiosService/webpack/universalModuleDefinition","webpack://axiosService/webpack/bootstrap","webpack://axiosService/./src/index.js","webpack://axiosService/./src/create.js","webpack://axiosService/./src/request-types.js","webpack://axiosService/./src/utils.js","webpack://axiosService/./src/config.js","webpack://axiosService/./src/service.js","webpack://axiosService/./src/service-decorators.js"],"names":["axiosService","getRequestsByRoot","createAxiosService","getMessageDecorator","getMockDecoratorByEnv","service","Service","requestDefaults","createdRequestStack","createdAxiosInstanceStack","responseDecorator","instance","requestOpts","msgKey","codeKey","dataKey","successCode","request","config","requestInfo","baseURL","url","params","data","then","status","response","apiRes","STATUS_200","Promise","resolve","msg","code","logger","error","reject","e","handleAxiosInstances","baseConfigs","defaultBaseCopy","defaultBaseConfig","root","isCreateInstance","axiosInstance","asyncAxiosInstance","_request","$httpResolve","timeout","$httpReady","tid","setTimeout","getInstance","$http","clearTimeout","create","getInstaceSync","push","_axiosInstance","getAxiosInstance","getAsyncAxiosInstance","jsonWrapperRequest","getRequest","handleRequest","requestConnect","args","fn","requests","get","axiosServiceGet","moreConfigs","configs","method","GET","post","axiosServicePost","POST","postXForm","axiosServicePostXForm","transformRequest","headers","Object","keys","reduce","formData","key","append","FormData","restFulGet","axiosServiceRestFulGet","restFulUrl","urlData","restFulPost","delete","axiosServiceDelete","DELETE","put","axiosServicePut","PUT","patch","axiosServicePatch","PATCH","head","axiosServiceHead","HEAD","options","axiosServiceOptions","OPTIONS","axiosServiceRequest","jsonp","axiosServiceJsonp","restFulDelete","isString","isNumber","isUndefined","isObject","forEach","merge","deepMerge","deepCopy","target","formatRestFulUrl","resfulUrl","replace","joinRootAndPath","path","slashStartReplace","str","slashEndReplace","_toString","prototype","toString","isArray","val","call","obj","i","l","length","hasOwnProperty","result","assignValue","arguments","extend","to","_from","log","defaults","autoLoading","setHttps","setDefaults","setRequestDefaults","_executeRequestInstance","_executeAxiosInstance","newConfig","newRequestOpts","isDev","mockDecorator","mockFn","apiDecorator","property","descriptor","apiFn","applyApiWithEnv","initialFunc","initializer","value","successMsg","errorMsg","name","noop","alert","window","console","getToast","toast","messageGetter","successToast","errorToast","getSuccessMsg","getErrorMsg","origin","wrapper","res","err"],"mappings":"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","file":"axios-service.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"axiosService\"] = factory();\n\t//libaoxu\n\telse\n\t\troot[\"axiosService\"] = factory();\n})(typeof self !== \"undefined\" ? self : this, function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n","/**\n * axios封装, 为了业务层更简洁实用, 不需要判断status 和 codeKey等重复逻辑\n * @author libaoxu\n * @date 2018-05-08\n */\nimport createAxiosService from './create'\nimport { getMessageDecorator, getMockDecoratorByEnv } from './service-decorators'\n\nconst axiosService = createAxiosService()\nconst getRequestsByRoot = axiosService.getRequestsByRoot\n\nexport {\n  axiosService,\n  getRequestsByRoot,\n  createAxiosService,\n  getMessageDecorator,\n  getMockDecoratorByEnv,\n}\n\nexport default axiosService","/**\n * axios封装, 为了业务层更简洁实用, 不需要判断status 和 codeKey等重复逻辑\n * @author libaoxu\n * @date 2018-05-08\n */\nimport { GET, POST, PATCH, PUT, HEAD, DELETE, OPTIONS } from './request-types'\nimport { formatRestFulUrl, extend, joinRootAndPath, logger } from './utils'\nimport { STATUS_200, defaults, requestDefaults, UN_PRODUCTION, defaultBaseConfig } from './config'\nimport Service from './service'\n\n\nfunction createAxiosService () {\n  const service = new Service({\n    requestDefaults,\n    createdRequestStack: [],\n    createdAxiosInstanceStack: []\n  })\n  \n  /**\n   * axios实例的装饰器, 主要做响应拦截\n   * @param {Axios} instance axios实例\n   * @param {Object} requestOpts axiosService请求配置项, 包含状态检测等, 详见config.requestDefaults\n   */\n  const responseDecorator = function responseDecorator (instance, requestOpts) {\n    const { msgKey, codeKey, dataKey, successCode } = {\n      ...service.requestDefaults,\n      ...requestOpts,\n    }\n\n    /**\n     * 在请求开始和请求结束的, 把状态的判断等重复case做处理\n     * \n     * @param {any} config 请求的config\n     * @returns {Promise} 请求结果\n     * todo loading\n     */\n    return function request (config) {\n      const requestInfo = [`url: ${instance.baseURL}${config.url}`, ', params:', config.params, ', data:', config.data]\n\n      return instance(config)\n        .then(response => {\n          const { status, data: apiRes, config } = response\n\n          if (status === STATUS_200) {\n            // 如果不存在dataKey, 则不处理data相关的值, 仅将data返回回去\n            if (!dataKey) {\n              return Promise.resolve(apiRes)\n            }\n            let data = apiRes[dataKey]\n            let msg = apiRes[msgKey]\n            let code = apiRes[codeKey]\n\n            extend(apiRes, { data, msg, code })\n            \n            if (code === successCode) {\n              return Promise.resolve(apiRes)\n            } else {\n              logger.error(`请求错误: msg: ${msg}, code: ${code} `, ...requestInfo)\n              return Promise.reject(apiRes)\n            }\n          }\n        }, (e) => {\n          logger.error(`请求失败: `, ...requestInfo)\n          return Promise.reject(e)\n        })\n    }\n  }\n  const handleAxiosInstances = function handleAxiosInstances (baseConfigs) {\n    const defaultBaseCopy = extend({}, defaultBaseConfig)\n    const { root, isCreateInstance } = extend(defaultBaseCopy, baseConfigs)\n    let axiosInstance\n    let asyncAxiosInstance\n    let _request\n    let $httpResolve\n    let timeout = 3000\n    let $httpReady = new Promise((resolve, reject) => {\n      $httpResolve = resolve\n    })\n    \n    let tid = setTimeout(() => {\n      if (!axiosInstance) {\n        logger.error('请注入axios实例, 如: axiosService.init(axios, config)')\n      }\n    }, timeout)\n    \n    const getInstance = function getInstance () {\n      if (service.$http) {\n        clearTimeout(tid)\n        let instance\n\n        if (isCreateInstance) {\n          instance = service.$http.create({\n            baseURL: root,\n            ...baseConfigs\n          })\n        } else {\n          instance = config => service.$http({ ...config, url: joinRootAndPath(root, config.url) })\n        }\n        instance.baseURL = root\n\n        return instance\n      }\n    }\n\n    const getInstaceSync = function getInstaceSync () {\n      // 处理异步注入axioIntance的情况\n      if (!service.$http) {\n        service.createdAxiosInstanceStack.push($httpResolve)\n        return $httpReady.then(getInstance)\n      }\n    }\n\n    // 保证了, 同一个wrapperRequsetAdaptor, 只创建有一个axiosInstance\n    axiosInstance = getInstance()\n\n    if (!axiosInstance) {\n      // 异步注入axois情况, getInstance也是一次\n      asyncAxiosInstance = getInstaceSync()\n      asyncAxiosInstance.then((_axiosInstance) => {\n        axiosInstance = _axiosInstance\n      })\n    }\n\n    return {\n      getAxiosInstance: _ => axiosInstance,\n      getAsyncAxiosInstance: _ => asyncAxiosInstance,\n    }\n  }\n\n  const jsonWrapperRequest = function jsonWrapperRequest (baseConfigs) {\n    return function getRequest (config) {\n      \n    }\n  }\n\n  /**\n   * 根据根路径获取请求函数\n   * \n   * @param {any} baseConfigs axios的基础配置, \n   * @property {String} baseConfigs.root 根路劲\n   * @property {Boolean} baseConfigs.isCreateInstance 是否创建新实例, 即: axios.create\n   * \n   * @returns {Object} requests axios请求集合\n   */\n  const getRequestsByRoot = function getRequestsByRoot (baseConfigs = {}) {\n    // 第一步 获取通过init来注入的axios实例\n    const { getAxiosInstance, getAsyncAxiosInstance } = handleAxiosInstances(baseConfigs)\n    \n    // 第二步 根据每个不同请求配置的requestOpts获取具体request请求的包装器\n    const getRequest = function getRequest (requestOpts) {\n      let _request\n      const axiosInstance = getAxiosInstance()\n      const asyncAxiosInstance = getAsyncAxiosInstance()\n\n      if (axiosInstance) {\n        _request = responseDecorator(axiosInstance, requestOpts)\n      } else {\n        asyncAxiosInstance && asyncAxiosInstance.then((axiosInstance) => {\n          _request = responseDecorator(axiosInstance, requestOpts)\n        })\n      }\n\n      return function handleRequest (...params) {\n        if (_request) {\n          return _request(...params)\n        } else {\n          return asyncAxiosInstance.then(() => _request(...params))\n        }\n      }\n    }\n\n    // 具体请求的装饰器, requestOpts => request, 将外层的配置参数进行预处理, 保证requestProxy只直接收axios的config\n    const requestConnect = fn =>\n      /** \n       * \n       * @param {String} url 请求的url后缀\n       * @param {Object} requestOpts 请求的配置项, 详见config.js中的requestDefaults\n       * @param {Object} moreConfigs 该值为自定义的, axios-service不会处理, 该config值会透传到 axios中interceptors中的第一个参数\n       * @return {Function} fn执行结果\n       */\n      (url, requestOpts, ...args) => {\n        const request = getRequest(requestOpts)\n        return fn(url, request, ...args)\n      }\n\n    const requests = {\n      getAxiosInstance,\n      getAsyncAxiosInstance,\n      /**\n       * get请求的封装\n       * \n       * @returns {Function} 业务层做请求的函数\n       */\n      get: requestConnect(function axiosServiceGet (url, request, moreConfigs) {\n        /**\n         * @param {Object} params 即get请求需要的数据\n         * @param {Object} config 请求接口的配置项, 详见https://github.com/axios/axios#request-config\n         * 注意: get请求, 第一个参数传params, \n         */\n        return (params, configs) => request({ url, method: GET, params, ...configs, ...moreConfigs })\n      }),\n      post: requestConnect(function axiosServicePost (url, request, moreConfigs) {\n        /**\n         * @param {Object} data 即post请求需要的数据\n         * 注意: post请求, 第一个参数传data\n         */\n        return (data, configs) => request({ url, method: POST, data, ...configs, ...moreConfigs })\n      }),\n      postXForm: requestConnect(function axiosServicePostXForm (url, request, moreConfigs) {\n        return (data, configs = {}) => {\n          return request({ \n            url, \n            method: POST, \n            data,\n            transformRequest: [function (data = {}, headers) {\n              // if (typeof window === 'undefined') {\n              //   console.error('application/x-www-form-urlencoded类型, 请在客户端请求, url:', url)\n              // }\n    \n              return Object.keys(data)\n                .reduce((formData, key) => {\n                  formData.append(key, data[key])\n                  return formData\n                }, new FormData())\n            }], \n            headers: {\n              'Content-Type': 'application/x-www-form-urlencoded',\n              ...configs.headers\n            },\n            ...configs,\n            ...moreConfigs\n          })\n        }\n      }),\n      /**\n       * resFul用的get请求\n       * \n       * @param {String} restFulUrl 请求的url, 且与上面的url配置有区别, 详见readme.md\n       * @param {Object} requestOpts 请求配置项\n       * @returns {Function} 具体请求的函数\n       */\n      restFulGet: requestConnect(function axiosServiceRestFulGet (restFulUrl, request, moreConfigs) {\n        /**\n         * @param {Object} urlData restFul中需要替换url的值, 拼接的过程serviceProxy会处理\n         * @param {Object} params \n         * @param {Object} configs 请求配置项\n         */\n        return (urlData, params, configs) => \n          request({ url: formatRestFulUrl(restFulUrl, urlData), method: GET, params, ...configs, ...moreConfigs })\n      }),\n      restFulPost: requestConnect(function axiosServicePost (restFulUrl, request, moreConfigs) {\n        return (urlData, data, configs) => \n          request({ url: formatRestFulUrl(restFulUrl, urlData), method: POST, data, ...configs, ...moreConfigs })\n      }),\n      delete: requestConnect(function axiosServiceDelete (restFulUrl, request, moreConfigs) {\n        return (urlData, data, configs) => \n          request({ url: formatRestFulUrl(restFulUrl, urlData), method: DELETE, data, ...configs, ...moreConfigs })\n      }),\n      put: requestConnect(function axiosServicePut (restFulUrl, request, moreConfigs) {\n        return (urlData, data, configs) => \n          request({ url: formatRestFulUrl(restFulUrl, urlData), method: PUT, data, ...configs, ...moreConfigs })\n      }),\n      patch: requestConnect(function axiosServicePatch (restFulUrl, request, ...moreConfigs) {\n        return (urlData, data, configs) => \n          request({ url: formatRestFulUrl(restFulUrl, urlData), method: PATCH, data, ...configs, ...moreConfigs })\n      }),\n      head: requestConnect(function axiosServiceHead (url, request, ...moreConfigs) {\n        return configs => request({ url, method: HEAD, ...configs, ...moreConfigs })\n      }),\n      options: requestConnect(function axiosServiceOptions (url, request, ...moreConfigs) {\n        return configs => request({ url, method: OPTIONS, ...configs, ...moreConfigs })\n      }),\n      request: requestConnect(function axiosServiceRequest (url, request, ...moreConfigs) {\n        return configs => request({ url, ...configs, ...moreConfigs })\n      }),\n      // todo\n      jsonp: requestConnect(function axiosServiceJsonp (url, request, ...moreConfigs) {\n\n      })\n    }\n    \n    requests.restFulDelete = requests.delete\n\n    return requests\n  }\n\n  service.getRequestsByRoot = getRequestsByRoot\n  service.create = createAxiosService\n\n  return service\n}\n\nexport default createAxiosService","export const GET = 'get'\nexport const POST = 'post'\nexport const DELETE = 'delete'\nexport const OPTIONS = 'options'\nexport const PUT = 'put'\nexport const PATCH = 'patch'\nexport const HEAD = 'head'","export const deepCopy = (target, ...source) => {\n\n}\n\n\nexport const formatRestFulUrl = (resfulUrl = '', urlData = {}) => \n  Object.keys(urlData || {})\n    .reduce((url, key) => url.replace(`$${key}`, urlData[key]), resfulUrl || '')\n    \nexport const joinRootAndPath = (root, path) => {\n  let slashStartReplace = str => str.replace(/^\\//, '') \n  let slashEndReplace = str => str.replace(/\\/$/, '') \n  return `${slashEndReplace(root)}/${slashStartReplace(path)}`\n}\n\n\nconst _toString = Object.prototype.toString\n\n/**\n * Determine if a value is an Array\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is an Array, otherwise false\n */\nexport const isArray = function (val) {\n  return toString.call(val) === '[object Array]';\n}\n\n/**\n * Determine if a value is a String\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a String, otherwise false\n */\nexport function isString(val) {\n  return typeof val === 'string';\n}\n\n/**\n * Determine if a value is a Number\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Number, otherwise false\n */\nexport function isNumber(val) {\n  return typeof val === 'number';\n}\n\n/**\n * Determine if a value is undefined\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if the value is undefined, otherwise false\n */\nexport function isUndefined(val) {\n  return typeof val === 'undefined';\n}\n\n/**\n * Determine if a value is an Object\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is an Object, otherwise false\n */\nexport function isObject(val) {\n  return val !== null && typeof val === 'object';\n}\n\n/**\n * Iterate over an Array or an Object invoking a function for each item.\n *\n * If `obj` is an Array callback will be called passing\n * the value, index, and complete array for each item.\n *\n * If 'obj' is an Object callback will be called passing\n * the value, key, and complete object for each property.\n *\n * @param {Object|Array} obj The object to iterate\n * @param {Function} fn The callback to invoke for each item\n */\nexport function forEach (obj, fn) {\n  // Don't bother if no value provided\n  if (obj === null || typeof obj === 'undefined') {\n    return\n  }\n\n  // Force an array if not already something iterable\n  if (typeof obj !== 'object') {\n    /* eslint no-param-reassign:0 */\n    obj = [obj]\n  }\n\n  if (isArray(obj)) {\n    // Iterate over array values\n    for (var i = 0, l = obj.length; i < l; i++) {\n      fn(obj[i], i, obj)\n    }\n  } else {\n    // Iterate over object keys\n    for (var key in obj) {\n      if (Object.prototype.hasOwnProperty.call(obj, key)) {\n        fn(obj[key], key, obj)\n      }\n    }\n  }\n}\n\n/**\n * Accepts varargs expecting each argument to be an object, then\n * immutably merges the properties of each object and returns result.\n *\n * When multiple objects contain the same key the later object in\n * the arguments list will take precedence.\n *\n * Example:\n *\n * ```js\n * var result = merge({foo: 123}, {foo: 456});\n * console.log(result.foo); // outputs 456\n * ```\n *\n * @param {Object} obj1 Object to merge\n * @returns {Object} Result of all merge properties\n */\nexport function merge(/* obj1, obj2, obj3, ... */) {\n  var result = {}\n  function assignValue(val, key) {\n    if (typeof result[key] === 'object' && typeof val === 'object') {\n      result[key] = merge(result[key], val)\n    } else {\n      result[key] = val\n    }\n  }\n\n  for (var i = 0, l = arguments.length; i < l; i++) {\n    forEach(arguments[i], assignValue)\n  }\n  return result\n}\n\n/**\n * Function equal to merge with the difference being that no reference\n * to original objects is kept.\n *\n * @see merge\n * @param {Object} obj1 Object to merge\n * @returns {Object} Result of all merge properties\n */\nexport function deepMerge(/* obj1, obj2, obj3, ... */) {\n  var result = {}\n  function assignValue(val, key) {\n    if (typeof result[key] === 'object' && typeof val === 'object') {\n      result[key] = deepMerge(result[key], val)\n    } else if (typeof val === 'object') {\n      result[key] = deepMerge({}, val)\n    } else {\n      result[key] = val\n    }\n  }\n\n  for (var i = 0, l = arguments.length; i < l; i++) {\n    forEach(arguments[i], assignValue)\n  }\n  return result\n}\n\n/**\n * Mix properties into target object.\n */\nexport const extend = function extend (to, _from) {\n  for (var key in _from) {\n    to[key] = _from[key]\n  }\n  return to\n}\n\nexport const logger = {\n  log (...args) {\n    /* eslint-disable no-console */\n    console.log('[axios-service]', ...args)\n    /* eslint-enable no-console */\n  },\n  error (...args) {\n    /* eslint-disable no-console */\n    console.error('[axios-service]', ...args)\n    /* eslint-enable no-console */\n  },\n}","\nexport const STATUS_200 = 200\n\nexport const defaults = {\n  // withCredentials: true\n}\n\nexport const defaultBaseConfig = {\n  root: '/',\n  isCreateInstance: false\n}\n\nexport const requestDefaults = {\n  // todo\n  autoLoading: true,\n  // server端请求msg\n  msgKey: 'error_msg',\n  // server端数据的key\n  dataKey: 'data',\n  // server端请求状态的key\n  codeKey: 'dm_error',\n  // server端请求成功的状态, 注意: 是服务端返回的状态码, 不是xhr在\b浏览器端的返回状态\n  successCode: 0 \n}","import { codes, defaults, requestDefaults } from './config'\nimport { extend, deepMerge, merge } from './utils'\n\nexport default class Service {\n  constructor (options = {}) {\n    this.$http = null\n    this.requestDefaults = options.requestDefaults || {}\n    this.createdRequestStack = options.createdRequestStack || []\n    this.createdAxiosInstanceStack = options.createdAxiosInstanceStack || []\n  }\n  \n  // 注意, service实例初始化时候, 只创建对象, 不需要走init, init函数由外部初始化时候注入axisoInstance\n  init (axiosInstance, options = {}) {\n    this.setHttps(axiosInstance)\n    this.setDefaults(options.defaults)\n    this.setRequestDefaults(options.requestDefaults)\n    this._executeRequestInstance()\n    this._executeAxiosInstance()\n  }\n  \n  setHttps ($http) {\n    this.$http = $http || this.$http\n  }\n  \n  setDefaults (newConfig) {\n    extend(this.$http.defaults, { ...defaults, ...newConfig })\n  }\n  \n  setRequestDefaults (newRequestOpts = {}) {\n    extend(this.requestDefaults, newRequestOpts)\n  }\n\n  _executeRequestInstance () {\n    this.createdRequestStack.forEach(fn => fn(this.$http))\n  }\n\n  _executeAxiosInstance () {\n    this.createdAxiosInstanceStack.forEach(fn => fn(this.$http)) \n  }\n}","/**\n * 不管是mock装饰器 还是 消息装饰器提供的都是一个装饰的思路, 开发者可自由扩展自定义装饰器, 如异步参数依赖, 单例, loading等等\n */\n\n/**\n * 通过环境变量获取mock装饰器\n * @param {String} isDev 是否为开发环境\n * @return {Function}\n */\nexport function getMockDecoratorByEnv (isDev) {\n  /**\n   * mock装饰器\n   * @param {Function} mockFn mock的函数逻辑\n   * @return {Function}\n   */\n  return function mockDecorator (mockFn) {\n    /**\n     * 接口装饰器\n     * @param {Class|Function} 所装饰类的实例对象 | 所装饰器的函数\n     * @param {String|Undefined} property 属性的key名|Undefined\n     * @param {Object|Undefined} descriptor es6装饰器对象|Undefined\n     * @return {Object|Function} es6的装饰器对象|直接可执行函数\n     */\n    return function apiDecorator (target, property, descriptor) {\n      let apiFn\n      const applyApiWithEnv = (...args) => {\n        // 开发环境走mock, 如果需要关闭, 需要再apis种删除\n        if (isDev) {\n          return mockFn(...args)\n        } else {\n          return apiFn(...args)\n        }\n      }\n      if (!descriptor && typeof target === 'function') {\n        apiFn = target\n        return applyApiWithEnv\n      } else {\n        const initialFunc = descriptor.initializer || descriptor.value\n        apiFn = initialFunc() || (() => {})\n        descriptor.initializer = descriptor.value = _ => applyApiWithEnv\n        return descriptor\n      }\n    }\n  }\n}\n\n/**\n * 消息提示装饰器, 依赖于外层toast对象, 提供toast.success 和 toast.error两个函数\n * @param {Object} toast \n * @param {Function} toast.success\n * @param {Function} toast.error\n */\nexport const getMessageDecorator = toast => \n  /**\n   * 预制的消息内容\n   *\n   * @param {Object} { successMsg: String|Function, errorMsg: String|Function }\n   * @property {String|Function} successMsg: 成功的消息\n   * @property {String|Function} errorMsg: 失败的消息\n   */\n  ({ successMsg, errorMsg } = {}) => (target, name, descriptor) => {\n    const noop = () => {}\n    // eslint-disable-next-line no-console\n    const alert = typeof window !== 'undefined' ? window.alert : console.log\n    const getToast = name => (typeof toast === 'object' && typeof toast[name] === 'function') ? toast[name] : alert\n    const messageGetter = msg => (typeof msg === 'function') ? msg : _ => msg\n    const successToast = getToast('success')\n    const errorToast = getToast('error')\n    const getSuccessMsg = messageGetter(successMsg)\n    const getErrorMsg = messageGetter(errorMsg)\n    let origin\n\n    const wrapper = (...args) => {\n      return origin(...args).then((res) => {\n        const msg = getSuccessMsg(res)\n        msg && successToast(msg)\n        return Promise.resolve(res)\n      }, (err) => {\n        const msg = getErrorMsg(err)\n        msg && errorToast(msg)\n        return Promise.reject(err)\n      })\n    }\n\n    if (!descriptor && typeof target === 'function') {\n      origin = target\n      return wrapper\n    } else {\n      const initializer = descriptor.value || descriptor.initializer;\n      origin = initializer() || noop\n      descriptor.value = descriptor.initializer = _ => wrapper\n    }\n\n    return descriptor\n  }\n"],"sourceRoot":""}